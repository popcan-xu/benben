<!DOCTYPE html>
{% extends 'dashboard/base_dashboard.html' %}

{% block page_content %}
<div class="container-fluid">

    <!-- Page Heading -->
    <h1 class="h3 mb-2 text-gray-800">增加投资组合明细</h1>
    <p class="mb-4">请在这里增加投资组合明细</p>

    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">投资组合明细</h6>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <form action="" method="post" class="form-horizontal" role="form" onsubmit="return sumbit_sure()">
                        {% csrf_token %}
                        <div class="row form-group">
                            <label for="portfolio_id" class="col-md-4 control-label text-right">名称：</label>
                            <div class="col-md-8">
                                {% if portfolio_id == 0 %} {# 参数0代表从list_portfolio_history.html点击增加按钮 #}
                                    <select class="form-control" name="portfolio_id" id="portfolio_id">
                                    {% for portfolio in portfolio_list %}
                                        {% if portfolio.id == portfolio_object.id %}
                                            <option value="{{ portfolio.id }}" selected>{{ portfolio.portfolio_name }}</option>
                                        {% else %}
                                            <option value="{{ portfolio.id }}">{{ portfolio.portfolio_name }}</option>
                                        {% endif %}
                                    {% endfor %}
                                    </select>
                                {% else %} {# 其他参数代表从view_portfolio_details.html点击记一笔链接 #}
                                    <select class="form-control" name="portfolio_id" id="portfolio_id">
                                    {% for portfolio in portfolio_list %}
                                        {% if portfolio.id == portfolio_object.id %}
                                            <option value="{{ portfolio.id }}" selected>{{ portfolio.portfolio_name }}</option>
                                        {% else %}
                                            <option value="{{ portfolio.id }}">{{ portfolio.portfolio_name }}</option>
                                        {% endif %}
                                    {% endfor %}
                                    </select>
                                {% endif %}
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="date" class="col-md-4 control-label text-right">日期：</label>
                            <div class="col-md-8">
                                <input type="date" class="form-control date-picker"  name="date" id="date" placeholder="请录入日期">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="portfolio_value" class="col-md-4 control-label text-right">价值：</label>
                            <div class="col-md-8">
                                <input type="number" class="form-control"  name="portfolio_value" id="portfolio_value" placeholder="请录入投资组合价值">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="portfolio_in_out" class="col-md-4 control-label text-right">出入金：</label>
                            <div class="col-md-8">
                                <input type="number" step="0.01" class="form-control"  name="portfolio_in_out" id="portfolio_in_out" placeholder="请录入出入金" value="0">
                            </div>
                        </div>
                        <!--
                        <div class="row form-group">
                            <label for="portfolio_principal" class="col-md-4 control-label text-right">本金：</label>
                            <div class="col-md-8">
                                <input type="number" class="form-control"  name="portfolio_principal" id="portfolio_principal" placeholder="请录入投资组合本金">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="portfolio_PHR" class="col-md-4 control-label text-right">份数：</label>
                            <div class="col-md-8">
                                <input type="number" class="form-control"  name="portfolio_PHR" id="portfolio_PHR" placeholder="请录入份数">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="portfolio_net_value" class="col-md-4 control-label text-right">净值：</label>
                            <div class="col-md-8">
                                <input type="number" step="0.0001" class="form-control"  name="portfolio_net_value" id="portfolio_net_value" placeholder="请录入投资组合净值">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="portfolio_profit" class="col-md-4 control-label text-right">收益：</label>
                            <div class="col-md-8">
                                <input type="number" step="0.01" class="form-control" name="portfolio_profit" id="portfolio_profit" placeholder="请录入投资组合收益">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="portfolio_profit_rate" class="col-md-4 control-label text-right">收益率：</label>
                            <div class="col-md-8">
                                <input type="number" step="0.01" class="form-control" name="portfolio_profit_rate" id="portfolio_profit_rate" placeholder="请录入投资组合收益率">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="portfolio_annualized_profit_rate" class="col-md-4 control-label text-right">年化收益率：</label>
                            <div class="col-md-8">
                                <input type="number" step="0.01" class="form-control" name="portfolio_annualized_profit_rate" id="portfolio_annualized_profit_rate" placeholder="请录入投资组合年化收益率">
                            </div>
                        </div>
                        -->
                        <div class="row form-group" style="text-align:center">
                            <div class="col-md-offset-4 col-md-12">
                                <input type="submit" class="btn btn-primary" value="增加">
                                <input type="reset" class="btn btn-primary" value="取消">
                            </div>
                        </div>
                    </form>
                    {{ error_info }}
                </div>
                <div class="col-md-3"></div>
            </div>
        </div>
    </div>
</div>

<script>

var defaultDate = document.querySelectorAll('.date-picker');
for (var i = 0; i<defaultDate.length; i++) {
    defaultDate[i].valueAsDate = new Date();
}


function sumbit_sure() {
    var gnl=confirm("确定要提交?");
    if (gnl==true) {
        return true;
    }
    else {
        return false;
    }
}
</script>
{% endblock %}